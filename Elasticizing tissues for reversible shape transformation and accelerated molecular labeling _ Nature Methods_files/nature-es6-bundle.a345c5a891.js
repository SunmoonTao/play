!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var n=t(function(t){t.exports=function(){var r="js-get-share-url",e="js-share-url",t="js-copy-share-url",n="js-share-url-container",i="js-no-share-url-container",o="c-article-share-box__only-read-input--highlighted",a=null,s=null,c=!1,l=function(){return'<div class="c-article-share-box"><h3 class="c-article-share-box__title u-h3">Share this article</h3><p class="c-article-share-box__description">Anyone you share the following link with will be able to read this content:</p><button \t\t\tclass="js-get-share-url c-article-share-box__button" \t\t\tid="get-share-url" \t\t\tdata-track="click" \t\t\tdata-track-category="article body" \t\t\tdata-track-label="button" \t\t\tdata-track-action="get shareable link">Get shareable link</button>\t\t\t<div class="'+i+' u-display-none" aria-hidden="true"><p class="js-c-article-share-box__no-sharelink-info c-article-share-box__no-sharelink-info">Sorry, a shareable link is not currently available for this article.</p></div> \t\t\t<div class="'+n+' u-display-none" aria-hidden="true"><p \t\t\tclass="js-share-url c-article-share-box__only-read-input" \t\t\tid="share-url" \t\t\tdata-track="click" \t\t\tdata-track-category="article body" \t\t\tdata-track-label="button" \t\t\tdata-track-action="select share url"> \t\t</p><button \t\t\tclass="js-copy-share-url c-article-share-box__button--link-like" \t\t\tid="copy-share-url" \t\t\tdata-track="click" \t\t\tdata-track-category="article body" \t\t\tdata-track-label="button" \t\t\tdata-track-action="copy share url">Copy to clipboard</button><p class="js-c-article-share-box__additional-info c-article-share-box__additional-info">Provided by the Springer Nature SharedIt content-sharing initiative</p></div> \t\t</div>'},u=function(t){s=document.querySelector("."+e),d(t).then(function(t){t.url?(s.innerHTML=t.url,f(n),h()):f(i)}).catch(function(){f(i)})},d=function(i){return new Promise(function(t,e){var n=new XMLHttpRequest;n.addEventListener("load",function(){n.readyState===n.DONE&&(200===n.status?t(JSON.parse(n.responseText)):e())}),n.open("GET",i),n.send()})},f=function(t){var e=document.querySelector("."+t),n="u-display-none",i="aria-hidden";a.classList.add(n),a.setAttribute(i,!0),e.classList.remove(n),e.classList.add("u-display-inline"),e.setAttribute(i,!1)},h=function(){document.querySelector("."+t).addEventListener("click",function(){p(s),v(),document.execCommand("copy"),setTimeout(v,500)})},p=function(t){var e=window.getSelection();t?e.selectAllChildren(t):e.removeAllRanges()},v=function(){c=c?(s.classList.remove(o),!1):(s.classList.add(o),!0)};return{init:function(t){var e,n=t&&t.doi?t.doi:"",i=(t&&t.url?t.url:"")+n;""!==i&&((e=document.querySelector('[data-component="share-box"]'))&&(e.innerHTML=l()),Boolean(e))&&function(t){(a=document.querySelector("."+r)).addEventListener("click",u.bind(this,t))}(i)}}}});var p={isFeatureFlagEnabled:function(e){var t=!1,n=null;return window.dataLayer&&e&&(n=window.dataLayer[0].page.attributes.featureFlags)&&(t=n.find(function(t){return t.name===e&&t.active})),t},extendObject:function(t,e){var n=t||{};return e&&Object.keys(e).forEach(function(t){n[t]=e[t]}),n},getJournalPCode:function(){if(window.dataLayer){var t=window.dataLayer[0];return t.content&&Object.prototype.hasOwnProperty.call(t.content,"journal")&&Object.prototype.hasOwnProperty.call(t.content.journal,"pcode")?t.content.journal.pcode:void 0}},getArticleDOI:function(){if(window.dataLayer){var t=window.dataLayer[0];return t.content&&Object.prototype.hasOwnProperty.call(t.content,"article")&&Object.prototype.hasOwnProperty.call(t.content.article,"doi")?t.content.article.doi:void 0}},hasAccess:function(){return"Yes"===(t="access",(e=document.querySelector("meta[name="+t+"]"))?e.getAttribute("content"):"");var t,e},debounce:function(i,r,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||i.apply(t,e)},r),n&&i.apply(t,e)}}};function e(){var t=p.getJournalPCode(),e=p.getArticleDOI("DOI");p.hasAccess()&&t&&"ebd"!==t&&"bdj"!==t&&e&&(Component.ShareBox=new n,Component.ShareBox.init({doi:e,url:"/platform/readcube-share?resource="}))}var i=t(function(t){var h,p,e=(h=window,p=document,function(){var c=null,o=[],t=null,l=0,u=null,d=!1;function i(){function n(t){return t.getBoundingClientRect().top-e}var i=h.innerHeight,e=p.documentElement.clientTop,r=null;o.forEach(function(t){if(n(t)<=l+i/2)if(r){var e=p.getElementById(r);n(e)<=l-e.offsetHeight&&(r=t.id)}else r=t.id}),r!==t&&(c.emit("nav.section",r,t),t=r)}function f(e){function t(t){return e.nodeName.toLowerCase()===t}var n,i,r,o,a;e&&(n=e.hasAttribute("tabindex"),i=t("a")&&e.href,r=t("button"),o=t("input"),a=t("textarea"),!e.getAttribute("disabled")&&(n||i||r||o||a)||e.setAttribute("tabindex","-1"),e.focus())}function r(t){var e=null;if(t.target&&t.target.closest&&(e=t.target.closest("a")),e&&e.hash&&(!u||!e.classList.contains(u))&&e.pathname===h.location.pathname){var n,i,r=!(!(i=(n=e).hash)||function(t){return Boolean(t.closest(".c-reading-companion"))}(n))&&i.match(/#(Fig|f|sf)\d+/),o=!r&&function(t){var e=t.hash;if(!e)return!1;var n=p.querySelector('div[data-container-section="references"]');return n&&Boolean(n.querySelector(e))}(e),a=e.hash.slice(1),s=p.getElementById(a);if(d&&(r||o))return r?c.emit("nav.figure",a,e):o&&c.emit("nav.reference",a,e),void t.preventDefault();c.emit("nav.anchor",a,e),f(s),h.addEventListener("scroll",function t(){h.removeEventListener("scroll",t),h.scrollBy(0,-1*l)},!1)}}return{init:function(t,e,n){o=p.querySelectorAll(".js-section-title"),l=t.offset||0,u=t.exclude||"js-no-scroll",(c=n).on("rc.display",function(t){d=t}),e.on("scroll resize orientationchange",i),p.body.addEventListener("click",r,!1)}}});t.exports=e}),r=t(function(t){var a,n,s,c,l,u,e=(a=window,n={},s={},c={},l={},u={on:function(t,e,n){for(var i=t.split(/\s+/),r=0;i[r];++r)"complete"===a.document.readyState&&i[r].match(/^load(\.|$)/)?p("load",e,n):f(i[r],e,n)},off:function(t,e){for(var n=t.split(/\s+/),i=0,r=0;n[r];++r)i+=h(n[r],e)?1:0;return i},reset:function(){var t;for(t in c)i(c,t)&&a.removeEventListener(t,l[t],!1);for(t in n)i(n,t)&&n[t]&&a.cancelAnimationFrame(n[t]);s={},n={},c={},l={}},notify:function(t,e){!n[t]&&s[t]&&(n[t]=a.requestAnimationFrame(function(){!function(t,e){for(var n=s[t]||[],i=0;n[i];++i)n[i].fn.call(n[i].scope,e)}(t,e),n[t]=!1}))}},function(){return u});function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t){var e=t.split(".");return{ev:e[0],ns:e[1]||null}}function o(t,e){for(var n=[],i=0;t[i];++i)e(t[i])||n.push(t[i]);return n}function f(t,e,n){var i=d(t),r=i.ev,o=i.ns;c[r]||(l[r]=function(t){u.notify(r,t)},a.addEventListener(r,l[r],!1),c[r]=!0),s[r]||(s[r]=[]),s[r].push({fn:e,ns:o,scope:n||null})}function h(t,e){var n=d(t),i=n.ev,r=n.ns;return!!s[i]&&(s[i]=r&&e?o(s[i],function(t){return t.ns===r&&t.fn===e}):r?o(s[i],function(t){return t.ns===r}):e?o(s[i],function(t){return t.fn===e}):[],0<!s[i].length&&(s[i]=null),!0)}function p(t,e,n){a.requestAnimationFrame(function(){e.call(n||null,{type:t})})}t.exports=e});function o(t){var e=new r;(new i).init({offset:50,exclude:"js-no-scroll",access:p.hasAccess()},e,t)}var a=t(function(t){var H,N,e=(H=window,N=document,function(){var u="c-reading-companion",s="--active",t=u+"__section-item",h=t+s,c="--stuck",l=u+"__sticky",e="rc-sec-",d="rc-",p="rc-",v="data-tab-target",m="data-component",f="aria-selected",y="aria-controls",b="tabindex",g="data-src",w="data-srcset",_=!1,a=!1,L=0,x=Number.MAX_VALUE,S=null;function A(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))}function E(t){var e,n;this.html=(e=t.innerHTML,(n=N.createElement("div")).innerHTML=e,A(n,"a").forEach(function(t){var e=N.createElement("span");e.innerHTML=t.innerHTML,t.parentNode.replaceChild(e,t)}),n.innerHTML),this.text=t.textContent.replace(/[^a-z0-9\s]/gi,""),this.id=t.id}function k(t){var e=t.querySelector(".c-article-supplementary__title a");e?(this.id=t.id,this.caption=e.innerHTML,this.link=e.href,this.images=[this.placeholderFor(e)]):(this.id=(t.querySelector(".c-article-section__figure-caption")||{id:null}).id,this.caption=(t.querySelector("figcaption > b")||{innerHTML:"Figure"}).innerHTML,this.link=(t.querySelector(".c-article__pill-button")||{href:null}).href,this.images=this.findImages(t))}function q(t){var e=t.querySelector(".c-article-references__text");this.id=e.id,this.num=(t.querySelector(".c-article-references__counter")||{textContent:""}).textContent,this.citation=e.innerHTML,this.links=this.findLinks(t)}function n(t){this.href=t.href,this.text=t.textContent}function j(t){return N.getElementById(e+t)}function C(t,e){var n=u+"--highlighted",i="animationend";e&&(O(t),e.setAttribute(b,"-1"),e.focus(),e.classList.add(n),e.addEventListener(i,function t(){e.classList.remove(n),e.removeEventListener(i,t)}),e.scrollIntoView({block:"start"}))}function O(t,e){var n,i,r,o=S.querySelector("."+u+"__"+t),a=S.querySelector("."+u+"__panel"+s);o&&a&&(n=o.querySelector("img["+g+"]"),i=S.querySelector("button["+y+"="+o.id+"]"),n&&A(o,"picture").forEach(function(t){var e=t.querySelector("source"),n=t.querySelector("img");e.srcset=e.getAttribute(w),e.removeAttribute(w),n.src=n.getAttribute(g),n.removeAttribute(g)}),a&&((r=S.querySelector("button["+y+"="+a.id+"]")).setAttribute(f,"false"),r.setAttribute(b,"-1"),r.classList.remove(u+"__tab"+s),a.classList.remove(u+"__panel"+s),a.removeAttribute(b)),i.setAttribute(f,"true"),i.removeAttribute(b),i.classList.add(u+"__tab"+s),o.classList.add(u+"__panel"+s),o.setAttribute(b,"0"),e&&e.focus&&i.focus(),_=S.querySelector("."+u+"__panel"+s+"."+u+"__panel--full-width"),B())}function B(){var t=S.parentNode,e=t.offsetWidth;x<=e&&_&&a&&(e=H.innerWidth-t.getBoundingClientRect().left-10),S.style.width=e+"px"}function T(t,e){var n=N.querySelector("div["+m+"=article-container]"),i=S.querySelector("."+u+"__sections-list"),r=S.querySelector(".js-ad"),o=S.querySelector("."+u+"__tabs"),a=S.querySelector("."+u+"__cta a"),f=null;i&&(f=S.querySelector("."+u+"__sections-list").parentNode,e.on("nav.section",function(t,e){var n,i,r,o,a,s,c,l,u=e&&j(e),d=t&&j(t);u&&u.classList.remove(h),d&&(d.classList.add(h),n=d,r=(i=f).clientHeight,o=i.scrollTop+i.offsetTop,a=o+r,s=r/4,c=n.offsetTop,l=c+n.clientHeight,c<o?i.scrollTop-=o-c+s:a<l&&(i.scrollTop+=l-a+s))}),e.on("nav.figure",function(t){var e;C("figures",(e=t,N.getElementById(d+e)))}),e.on("nav.reference",function(t,e){var n,i,r,o,a=(n=t,N.getElementById(p+n));e&&(r=e,(o=(i=a).querySelector("."+u+"__return"))&&o.parentNode.removeChild(o),(o=N.createElement("a")).href="#"+r.id,o.appendChild(N.createTextNode("Return to ref "+r.textContent+" in article")),o.className=u+"__return",o.addEventListener("click",function(){o.parentNode.removeChild(o)}),i.appendChild(o)),C("references",a)}),t.on("scroll resize orientationchange",function(){x=S.parentNode.parentNode.offsetWidth,S.parentNode.getBoundingClientRect().top<=L?S.classList.add(l+c):S.classList.remove(l+c);var t=S.offsetHeight,e=n.getBoundingClientRect().bottom-N.documentElement.clientTop-(t+L);S.classList.contains(l+c)&&(f.style.maxHeight=H.innerHeight-((r?r.offsetHeight:0)+L+(o?80:20))+"px"),S.style.top=e<=0?e+L+"px":L+"px",o&&(o.style.maxWidth=x+"px"),a&&(a.style.maxWidth=x+"px"),B()}),o&&(o.addEventListener("keydown",function(t){var e,n=N.activeElement.parentNode;37===t.keyCode?e=n.previousElementSibling||S.querySelector("."+u+"__tabs > li:last-child"):39===t.keyCode&&(e=n.nextElementSibling||S.querySelector("."+u+"__tabs > li:first-child")),e&&O(e.querySelector("["+v+"]").getAttribute(v),{focus:!0})},!1),A(o,"."+u+"__tab").forEach(function(t){t.addEventListener("click",function(t){O(t.target.getAttribute(v),{focus:!0})},!1)})))}function i(t,e){t.insertAdjacentHTML("beforebegin",e)}function I(){var t=["sections","figures","references"].map(function(t){var e,n,i,r,o,a,s=N.querySelector("."+u+"__"+t),c=(n=A(N,".js-"+u+"-"+(e=t)+"-item"),(i={sections:function(t){var e=[];return t.forEach(function(t){e.push(new E(t))}),0<e.length?'<ul class="'+u+'__sections-list">'+e.map(function(t){return t.render()}).join("")+"</ul>":""},figures:function(t){var n=[];return t.forEach(function(t){var e=new k(t);e.id&&n.push(e)}),n.length?'<ul class="'+u+'__figures-list">'+n.map(function(t){return t.render()}).join("")+"</ul>":""},references:function(t){var e=[];return t.forEach(function(t){e.push(new q(t))}),e.length?'<ol class="'+u+"__references-list"+(e[0].num?" "+u+"__references-list--numeric":"")+'">'+e.map(function(t){return t.render()}).join("")+"</ol>":""}})[e]?i[e](n):""),l=(o=(r=t).charAt(0).toUpperCase()+t.substring(1),'<li role="presentation"><button '+v+'="'+r+'" role="tab" id="tab-'+r+'" '+y+'="tabpanel-'+r+'" '+f+'="false" '+b+'="-1" class="'+u+'__tab">'+o+"</button></li>");return c&&s?(s.setAttribute("aria-labelledby","tab-"+t),a='<div class="'+u+'__scroll-pane">'+c+"</div>",s.insertAdjacentHTML("afterbegin",a)):s&&s.parentNode.removeChild(s),!(!c||!s)&&l}).filter(function(t){return Boolean(t)}),e=S.querySelector("."+u+"__panel"),n=t.length;return 1<n?i(e,'<ul class="'+u+'__tabs" role="tablist">'+t.join("")+"</ul>"):1===n&&i(e,'<h3 class="'+u+'__heading u-font-family-sans">Sections</h3>'),n}return E.prototype.render=function(){return'<li id="'+e+this.id+'" class="'+t+'"><a href="#'+this.id+'" data-track="click" data-track-action="section anchor" data-track-label="link:'+this.text+'">'+this.html+"</a></li>"},k.prototype={findImages:function(t){var e=[],n=this;return A(t,"picture > img").forEach(function(t){e.push(n.placeholderFor(t))}),e},placeholderFor:function(t){var e=t.getAttribute("data-supp-info-image")||t.src,n=t.alt||"",i=-1===e.indexOf("?")?"?":"&";return["<picture>",'<source type="image/webp" '+w+'="'+e+i+'as=webp">',"<img "+g+'="'+e+'" alt="'+n+'">',"</picture>"].join("")},render:function(){return['<li class="'+u+'__figure-item">',"<figure>",'<figcaption><b class="'+u+'__figure-title u-font-family-serif" id="'+d+this.id+'">'+this.caption+"</b></figcaption>",this.images.join(""),this.link?'<p class="'+u+'__figure-links">':"",this.link?'<a href="#'+this.id+'" data-track="click" data-track-action="figure anchor" data-track-label="link">View in article</a>':"",this.link&&a?'<a href="'+this.link+'" class="'+u+'__figure-full-link" data-track="click" data-track-action="view figure" data-track-label="link">Full size image<svg width="16" height="16" class="u-icon"><use href="#global-icon-chevron-right"/></svg></a>':"",this.link?"</p>":"","</figure>","</li>"].join("")}},q.prototype.findLinks=function(t){var e=[];return A(t,".c-article-references__links a").forEach(function(t){e.push(new n(t))}),e},q.prototype.render=function(){return['<li class="'+u+'__reference-item">','<p class="'+u+'__reference-citation u-font-family-serif" id="'+p+this.id+'">'+this.citation+"</p>",0<this.links.length?'<ul class="'+u+'__reference-links">'+this.links.map(function(t){return t.render()}).join("")+"</ul>":"","</li>"].join("")},n.prototype.render=function(){return'<li><a href="'+this.href+'" data-track="click" data-track-action="outbound reference" data-track-label="link">'+this.text+"</a></li>"},{init:function(t,n,i){function e(t){!function(t){if(!r&&!t.matches&&(S=N.querySelector("["+m+"=reading-companion-sticky]"))){var e=I();0!==e&&(T(n,i),1<e&&O("sections"),r=!0)}}(t),i.emit("rc.display",!t.matches&&r)}a=Boolean(t.access),L=t.offset||0;var r=!1,o=H.matchMedia(t.matchMediaQuery||"(max-width: 639px)");o.addListener(e),e(o)}}});t.exports=e});function s(t){var e=new r;(new a).init({offset:50,exclude:"js-no-scroll",access:p.hasAccess()},e,t)}var c=t(function(t){t.exports=function(){return{init:function(t,e,n){(t||[]).forEach(function(t){this.bindEvents(t,e,n)},this)},bindEvents:function(i,t,e){function n(){var t,e,n;n=(e="c-table-scroll-wrapper__fade")+"--transparent",0<(t=i).scrollWidth-(t.scrollLeft+t.clientWidth)?(t.classList.add(e),t.classList.remove(n)):t.classList.add(n)}e.on("load resize",n),i.addEventListener("scroll",t(n,100),!1)}}}});function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-component-scroll-wrapper]",e=document.querySelectorAll(t);if(0!==e.length){var n=p.debounce,i=new r;(new c).init(e,n,i)}}function u(){var t=document.querySelector('[data-component="article-subject-links"]'),e=document.querySelector('[data-component="article-info-list"]');0<(t?t.querySelectorAll("a"):[]).length&&e&&(e.innerHTML=t.innerHTML,t.parentNode.removeChild(t))}var d=t(function(t){t.exports=function(){function o(t,e){return t.getAttribute("data-disqus-"+e)}var a=!1;return{init:function(n,i){var r="load scroll resize orientationchange";i.on(r,function t(){var e;-50<=(e=n.getBoundingClientRect()).top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)+50&&!a&&(i.off(r,t),function(t){window.disqus_config=function(){this.page.remote_auth_s3=o(t,"s3"),this.page.api_key=o(t,"key"),this.sso={name:o(t,"sso-name"),button:o(t,"sso-button"),icon:o(t,"sso-icon"),url:o(t,"sso-url"),logout:o(t,"sso-logout")}},window.disqus_shortname=o(t,"shortname"),window.disqus_identifier=o(t,"identifier"),window.disqus_url=o(t,"url");var e=document.createElement("script");e.async=!0,e.src="//"+window.disqus_shortname+".disqus.com/embed.js",(document.querySelectorAll("head")[0]||document.querySelectorAll("body")[0]).appendChild(e),a=!0}(n))})}}}});function f(t,o,a,s){var c=new XMLHttpRequest;c.addEventListener("load",function(){if(c.status<300){var t=(e=c.responseText,n=o,i=document.createDocumentFragment(),(r=document.createElement("div")).innerHTML=e,i.appendChild(r),i.querySelector(n));t&&(a.insertAdjacentHTML("beforeend",t.innerHTML),s())}var e,n,i,r}),c.open("GET",t),c.send()}function h(){var e=d(),n=document.getElementById("inject-comments"),t=document.getElementById("article-comments-content");if(n&&t){var i=n.querySelector("[data-placeholder]").getAttribute("data-placeholder").split(/\s+/);f(i[0],i[1],t,function(){var t=document.querySelector('[data-object="disqus"]');t&&e.init(t,new r),n.parentNode.removeChild(n)})}}function v(){var n,t=document.querySelector(".c-article-fullwidth-content")?Array.prototype.slice.call(document.querySelectorAll('[mi24-video-player="true"]'),0):[];n=[],t.forEach(function(t){var e=t.getAttribute("video-id");-1!==n.indexOf(e)?t.outerHTML="":n.push(e)})}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=t(function(t){t.exports=function(){return{create:function(d,g,t){function n(t,e){var n,i,r="c-author-popup",o="c-article-orcid",a=function(t){var e=t[0].querySelector("a.js-orcid"),n="";return null!==e&&(n='<a class="'+o+'"title="View ORCID ID profile" href="'+e.getAttribute("href")+'" target="_blank" rel="noopener"><span class="'+o+'__text">View ORCID ID profile</span></a><div>'),n},s=e.prop("href").split("#").pop(),c=e.closest("li"),l=e.clone();(i=(n=l)[0]&&n[0].querySelector("svg"))&&n[0].removeChild(i);var u,d,f,h,p,v,m,y,b='<div role="region" id="popup-'+s+'" class="'+r+' u-font-family-serif" aria-labelledby="'+s+'" aria-describedby="author-dialog"><section>';b+=(u=l.html(),'<h2 id="author-dialog" class="u-visually-hidden">Author Information</h2><h3 id="author-'+s+'" class="c-author-popup__subheading" tabindex="0">'+u+"</h3>"+a(c)),s.match(/^group/)?b+=function(t){var e=$("#"+t);if(0<e.length){var n=e.clone();return n.find("h3").remove(),n.find("ul").addClass("c-article-author-institutional-author__author-list--popup"),n.html().replace(/[\r\n]/g,"")}return""}(s):(b+=(f=c,h=(d=l).data("corresp-id"),p=h?$("#corresp-"+h):[],v=[],m=[],y=[],f.find("sup").find("a").each(function(){var t=$(this);t.next('span[data-present-affiliation="true"]').length||v.push(t.prop("href").replace(/^[^#]*/,""))}),v.forEach(function(t){var e=document.querySelector(t);if(e){var n=e.querySelector(".c-article-author-affiliation__address"),i=e.getAttribute("id");if(null!==n&&y.push(n.textContent),null!==i&&-1<i.indexOf("n")){var r=e.querySelector(".js-present-address");r?m.push(r.textContent):m.push(e.textContent)}}}),y=m.concat(y),0<p.length&&y.push('<a href="'+p.prop("href")+'" class="c-author-popup__link" rel="nofollow">Contact '+d.html()+"</a>"),'<ul class="c-author-popup__author-list"><li>'+y.join("</li><li>")+"</li></ul>"),b+=function(t){var e=$("#"+t);if(0<e.length){var n=e.clone();return n.find(".js-search-name").remove(),n.html()}return""}(s)),b+="</section></div>",g.spawn(e[0],$(b)[0],{setFocusOn:"h3#author-"+s}).toggle(t)}var f,h,p="js-etal",v=p+"-collapsed",i="js-authors-expanded",m="u-js-hide",y="js-mq480-show-inline",b="js-mq480-hide",w=".js-separator";(t=t||{}).etal&&function(t,e){function n(t){return t<o&&!(o===t+1&&-1!==r.get(t).className.indexOf("author-group"))}function i(){var t=d.closest("div").find("h3[itemprop]");return 0<t.length?t.get(0).textContent:"this article"}var r=d.children(),o=r.length;f=n(e),h=n(t);var a="",s=m;h&&!f&&(a=m+" "+y,s=b);var c="c-author-list",l='<li class="'+c+"__show-less "+m+'"><a href="javascript:;" class="'+p+'" aria-label="Show fewer authors for '+i()+'">- Show fewer authors</a></li>',u='<li class="'+c+"__show-more "+a+'"><a href="javascript:;" class="'+p+'" title="Show all '+o+' authors" aria-label="Show all '+o+" authors for "+i()+'">[&hellip;]</a></li>';(f||h)&&(d.addClass(v).find("li").eq(-1).before(u).find(w).addClass(s),d.append(l)),f&&r.slice(2,o-1).addClass("js-author-etal"),h&&r.slice(2,o-1).addClass("js-smaller-author-etal")}(t.etalSmallscreen||t.etal,t.etal),d.find("a").addClass("js-no-scroll"),d.find("sup").find("a").prop("tabIndex","-1"),d.delegate("a","click",function(t){var e=$(t.target).closest("a");e.hasClass(p)?(d.hasClass(v)?(d.addClass(i),d.removeClass(v),f?(d.find("li").eq(-3).addClass(m),d.find("li").eq(-2).find(w).removeClass(m),d.find("li:last").removeClass(m)):h&&(d.find("li").eq(-3).removeClass(y),d.find("li").eq(-2).find(w).removeClass(b),d.find("li:last").addClass(y))):(d.addClass(v),d.removeClass(i),f?(d.find("li").eq(-3).removeClass(m),d.find("li").eq(-2).find(w).addClass(m)):h&&(d.find("li").eq(-3).addClass(y),d.find("li").eq(-2).find(w).addClass(b),d.find("li:last").removeClass(y)),d.find("li:last").addClass(m)),g&&g.close()):g&&!e.parent().is("sup")&&(n(t,e),t.preventDefault())})}}}});function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=void 0===e?"[data-component-authors-activator]":e,i=t.popupGroup,r=void 0===i?null:i,o=t.options,a=void 0===o?{etal:3,etalSmall:null}:o,s=document.querySelectorAll(n);if(0!==s.length){var c=new b;y(s).forEach(function(t){var e=parseInt(t.getAttribute("data-etal"))||a.etal,n=parseInt(t.getAttribute("data-etal-small"))||a.etalSmall,i={etal:e};n&&(i.etalSmallscreen=n),c.create($(t),r,i)})}}var w=t(function(t){var e=function(t,f){function n(t,e){return'<a href="javascript:;" class="'+t.join(" ")+'">'+e+"</a>"}function h(t){return t+"px"}function e(e){function t(t){return e.nodeName.toLowerCase()===t}var n,i,r,o,a;e&&(n=e.hasAttribute("tabindex"),i=t("a")&&e.href,r=t("button"),o=t("input"),a=t("textarea"),!e.getAttribute("disabled")&&(n||i||r||o||a)||e.setAttribute("tabindex","-1"),e.focus())}function r(t,e,n,i){this.id=e.id,this.trigger=t,this.content=e,this.group=n,this.focusSelector=i.setFocusOn||"a[href]:not(."+s+")",this.columnSelector=i.mainColSelector||".js-main-column",this.isOpen=!1,this.build()}var i="c-author-popup",p=i+"__arrow",o="u-hide-print",a="js-close",s="js-focus-catcher",v="-above",m="-below",c="click";r.prototype={build:function(){var t=n([s,"u-visually-hidden"],"Return to place in article"),e=n(["c-author-popup__close",a],"Close");this.content.insertAdjacentHTML("afterbegin",t),this.content.insertAdjacentHTML("beforeend",e+'<div class="c-author-popup__arrow c-author-popup__arrow--above"></div>'+t),this.content.classList.contains(o)||this.content.classList.add(o),f.body.appendChild(this.content)},bindEvents:function(){var e=this;e.closeListener=e.close.bind(e),e.escapeListener=e.closeOnEscape.bind(e),e.clickAwayListener=e.closeOnClickAway.bind(e),e.content.querySelector("."+a).addEventListener(c,e.closeListener),e.content.querySelectorAll("."+s).forEach(function(t){t.addEventListener("focus",e.closeListener)}),f.addEventListener("keyup",e.escapeListener),f.addEventListener(c,e.clickAwayListener),t.addEventListener("resize",e.closeListener)},unbindEvents:function(){var e=this;e.content.querySelector("."+a).removeEventListener(c,e.closeListener),e.content.querySelectorAll("."+s).forEach(function(t){t.removeEventListener("focus",e.closeListener)}),f.removeEventListener("keyup",e.escapeListener),f.removeEventListener(c,e.clickAwayListener),t.removeEventListener("resize",e.closeListener)},open:function(){this.group.close(),this.isOpen=!0,this.bindEvents(),this.content.style.display="block",this.content.style.visibility="hidden";var t=this.pos();this.content.style.top=h(t.top),this.content.style.left=h(t.left),this.content.style.right=h(t.right),this.content.style.visibility="visible",this.focus()},close:function(){this.unbindEvents(),this.isOpen=!1,this.content.style.display="none",this.returnFocus()},toggle:function(t){t&&t.stopPropagation(),this.isOpen?this.close():this.open()},closeOnEscape:function(t){27===t.keyCode&&this.close()},closeOnClickAway:function(t){t.target.closest("."+i)||this.close()},pos:function(){var t=f.documentElement,e=t.scrollTop,n=this.trigger.getClientRects()[0],i=n.top+e,r=n.left,o=this.content.querySelector("."+p),a=t.clientWidth,s=Math.min(f.querySelector(this.columnSelector).offsetWidth,a),c=i-this.content.offsetHeight-12,l=i+n.height+12,u=n.left+this.content.offsetWidth-a+20,d=v;return c<e?(d=m,o.classList.remove(p+"-"+v),o.classList.add(p+"-"+m)):(o.classList.remove(p+"-"+m),o.classList.add(p+"-"+v)),o.style.left=h(s<600?r+5:Math.max(Math.round(n.width/2-10)+(0<u?u:0),5)),{left:s<600?5:Math.max(5,r-10),right:5,top:d===v?c:l}},focus:function(){var t=this.content.querySelector(this.focusSelector);t&&e(t)},returnFocus:function(){e(this.trigger)}};function l(){this.cache={}}return l.prototype={spawn:function(t,e,n){var i=e.id;return this.cached(i)||(this.cache[i]=new r(t,e,this,n||{})),this.cache[i]},close:function(){for(var t in this.cache)this.cached(t)&&this.cache[t].isOpen&&this.cache[t].close()},cached:function(t){return Object.prototype.hasOwnProperty.call(this.cache,t)}},function(){return l}}(window,document);t.exports=e}),_=function(){function e(){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=null,!this.popup){this.popup=this._createInstance();var t=this._closePopup.bind(this);window.EventEmitter.on("tray:toggled",t)}return this.popup}var t,n,i;return t=e,(n=[{key:"_closePopup",value:function(){this.popup&&this.popup.close()}},{key:"_createInstance",value:function(){return new(new w)}}])&&m(t.prototype,n),i&&m(t,i),e}();function L(){return new _}var x=t(function(t){t.exports=function(){var o="data-expandable-label",r="["+o+"]",a="[data-expandable-box]",s="c-article-box--expanded";function c(t){var e=t.querySelector(a),n=t.querySelector(r);e.parentNode.classList.add(s),e.style.height="auto",e.setAttribute("aria-hidden","false"),n.parentNode.setAttribute("aria-expanded","true"),n.textContent="Show less",t.isOpen=!0}function l(t,e){var n=t.querySelector(a),i=t.querySelector(r);n.parentNode.classList.remove(s),n.style.height="95px",n.setAttribute("aria-hidden","true"),i.parentNode.setAttribute("aria-expanded","false"),i.textContent="Show more",e&&n.scrollIntoView(),t.isOpen=!1}return{init:function(t){(t||[]).forEach(function(e){var t,n,i=(t=e.querySelector("figcaption:first-of-type"))&&t.textContent?t.textContent:"this box",r=['<div class="c-article-box__controls">','<div class="c-article-box__fade"></div>','<button aria-expanded="false" aria-controls="'+(n=e,n.querySelector(a).id)+'"><span class="c-article-box__button-text" '+o+'></span><span class="u-visually-hidden">from '+i+"</span></button>","</div>"].join("");e.insertAdjacentHTML("beforeend",r),l(e),e.querySelector("button").addEventListener("click",function(){var t;(t=e).isOpen?l(t,!0):c(t)},!1),e.addEventListener("focusin",function(){"button"!==document.activeElement.nodeName.toLowerCase()&&c(e)},!1)}),window.addEventListener("hashchange",function(){var t=location.hash?document.querySelector(location.hash):null,e=t&&t.closest(a);e&&c(e.parentNode)})}}}});function S(){x().init(Array.prototype.slice.call(document.querySelectorAll("div[data-expandable-box-container]"),0))}var A=t(function(t){t.exports=function(){var n="show all",i="show less",r="data-text-expanded",o="show-button",a="c-article-editorial-summary__content--less",s=document.querySelector(".c-article-editorial-summary__content");return{init:function(){var t;(t=document.createElement("button")).textContent=n,t.setAttribute("id",o),t.setAttribute("data-track","click"),t.setAttribute("data-track-label","button"),t.setAttribute("data-track-action","editorial summary "+i),t.classList.add("c-article-editorial-summary__button"),t.addEventListener("click",function(t){var e;(e=document.querySelector("[id^="+o+"]")).getAttribute(r)?(e.textContent=n,e.removeAttribute(r,"true"),e.setAttribute("data-track-action","editorial summary "+i),s.classList.add(a)):(e.textContent=i,e.setAttribute(r,"true"),e.setAttribute("data-track-action","editorial summary "+n),s.classList.remove(a))}),s.parentNode.insertBefore(t,s.nextSibling)}}}});function E(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-component-show-more]",e=document.querySelectorAll(t);0!==e.length&&(new A).init(e)}function k(){return{strategies:{ENTITLED:"entitled",UNENTITLED:"unentitled",UNKNOWN:"unknown"},persistenceServiceWrapperSource:window.ra21Host?window.ra21Host+"/seamless-access.js":null,idpVerifyURL:window.idpVerifyPrefix+"/verify/nature.min.js"}}var q=function(){return{init:function(t,e){t&&e&&function(t,e){var n=k().persistenceServiceWrapperSource,i=document.createElement("script");if(!n)throw new Error("persistance wrapper url is not set correctly");i.src=n,i.addEventListener("load",function(){seamlessAccess&&t()}),i.addEventListener("error",function(){e(this.error)}),document.body.appendChild(i)}(t,e)}}};function j(){if(!window.dataLayer)return!1;var t=window.dataLayer[0],e=!!Object.prototype.hasOwnProperty.call(t,"backHalfContent")&&t.backHalfContent,n=!(!t.content||!Object.prototype.hasOwnProperty.call(t.content.attributes,"copyright"))&&t.content.attributes.copyright.open;return e&&!n}function C(){return!window.dataLayer||!dataLayer[0].content.authorization.status}function O(t){return Object.prototype.hasOwnProperty.call(t,"name")&&Object.prototype.hasOwnProperty.call(t,"entityId")}window.isEligibleForRa21=j;var B=function(){return{init:function(t,e){var n,i,r,o,a,s=e||function(){};n=t||function(){},i=s,window.idp={institutionalLogin:function(t){n(t)},hasNatureUserProof:function(t){if(!t){var e=document.getElementById("login-button"),n=document.getElementById("my-account");e&&n&&(n.style.display="none",e.style.display="block")}},ajaxError:function(t){i(t)}},r=s,o=k().idpVerifyURL,(a=document.createElement("script")).src=o,a.addEventListener("load",function(){}),a.addEventListener("error",function(){r(this.src)}),document.body.appendChild(a)}}};function T(t){var r=null,o=".js-access-button",a=".js-buy-button",s=".js-change-institution-button",c=".js-text",l="u-display-none",e=function(){if(!r)return;this.options.text&&i();this.options.active&&n(this.options,function(){var t=new CustomEvent("entitlement-box:created");document.dispatchEvent(t)})}.bind(this),n=function(e,t){if(e.accessButton&&(u(o),e.accessButtonEventHandler)){var n=r.querySelector(o),i=null;n&&(i=n.querySelector("a"))&&n.addEventListener("click",function(t){t.preventDefault(),e.accessButtonEventHandler.call(null,t,i)})}e.buyButton&&u(a);e.changeInstitutionButton&&u(s);e.text&&u(c);"true"===r.getAttribute("aria-hidden")?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden","true");r.classList.toggle(l),t&&t()}.bind(this),i=function(){var t=r.querySelector(c);t&&(t.innerHTML=this.options.text)}.bind(this),u=function(t){var e=r.querySelector(t),n=null,i=null;e&&(n=e.querySelector("a"),"true"===(i=n||e).getAttribute("aria-hidden")?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden","true"),e.classList.toggle(l))}.bind(this);return this.options=p.extendObject({selector:"#entitlement-box-mobile",active:!0},t),this.handleVisibility=n,r=document.querySelector(this.options.selector),e(),this}function I(t,e){var n,i,r,o=null,a=e||{},s=k().strategies;switch(t){case s.ENTITLED:r=a,o=new T(p.extendObject({type:"entitled",downloadButton:!0},r));break;case s.UNENTITLED:i=a,o=new T(p.extendObject({type:"unentitled",changeInstitutionButton:!0,buyButton:!0},i));break;case s.UNKNOWN:n=a,o=new T(p.extendObject({type:"unknown",accessButton:!0,buyButton:!0},n));break;default:o=new T({type:"default"})}return o}function H(){this._entitlementBoxList=[]}function N(){var i="#entitlement-box-desktop",r="#entitlement-box-mobile",e=function(){seamlessAccess&&Object.prototype.hasOwnProperty.call(seamlessAccess,"lastUsedInstitution")&&seamlessAccess.lastUsedInstitution(t)}.bind(this),o=new H,a=null,s={isEligibleForRa21:j,isAccessDenied:C,isLastUsedInstitutionValid:O},c=window.matchMedia("(max-width: 1023px)");function t(n){var i=null;a=n&&s.isLastUsedInstitutionValid(n)?{strategy:"unknown",options:{text:"Access this article via <strong>"+n.name+"</strong>",buyButton:!1,changeInstitutionButton:!0,accessButtonEventHandler:function(t,e){e&&(i=e.getAttribute("href").match("[?&]redirect_uri=([^&#]*)")[1],seamlessAccess&&Object.prototype.hasOwnProperty.call(seamlessAccess,"loginWithLastSelected")&&seamlessAccess.loginWithLastSelected(n.entityId,i))}}}:{strategy:"unknown"},h(),u(a)}function l(t){var e=t.strategy,n=t.options||null;return o.create(e,n)}function u(t){if(null!==document.querySelector(i)||null!==document.querySelector(r)){var e=t.options||{},n=t.options||{};l({strategy:t.strategy,options:p.extendObject(e,{active:c.matches})}),l({strategy:t.strategy,options:p.extendObject(n,{active:!c.matches,selector:i})})}}function n(t){console.log("there has been an error when trying to load the entitlement script "+t),s.isAccessDenied()||o.create()}function d(t,e){var n;t.handleVisibility(t.options),(n=o.updateCurrentActive(e)).handleVisibility(n.options)}function f(){var t=o.getActiveEntitlementBox();t&&(c.matches&&t.options.selector!==r&&d(t,r),c.matches||t.options.selector===i||d(t,i))}function h(){c.addListener(f)}B().init(function(t){s.isEligibleForRa21()&&(0<t.length?(a={strategy:s.isAccessDenied()?"unentitled":"entitled",options:{text:s.isAccessDenied()?"Access to this article via <strong>"+t[0]+"</strong>  is not available.":"You have full access to this article via <strong>"+t[0]+"</strong>"}},h(),u(a)):q().init(e,n))},n)}function M(){N()}H.prototype.updateCurrentActive=function(t){var e=this.getActiveEntitlementBox();return e&&(e.options.active=!1),t&&(this.getEntitlementBoxBySelector(t).options.active=!0),this.getActiveEntitlementBox()},H.prototype.create=function(t,e){var n=new I(t,e);return this._entitlementBoxList.push(n),n},H.prototype.getActiveEntitlementBox=function(){return this._entitlementBoxList.find(function(t){return t.options.active})},H.prototype.getEntitlementBoxBySelector=function(e){return this._entitlementBoxList.find(function(t){return t.options.selector===e})},H.prototype.getAllEntitlementBox=function(){return this._entitlementBoxList};var P="backfillPersistedBpid";function D(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"https://"+("www.nature.com"===window.location.hostname?"idp.nature.com":"staging-idp.nature.com")+"/backfill/persistent-access-backfill.js";p.hasAccess()||window.localStorage.getItem(P)||("complete"!==document.readyState?window.addEventListener("load",function(){F(t)},!1):F(t))}function F(t){var e=document.createElement("script");e.defer="defer",e.src=t,e.addEventListener("load",function(){window.persistentAccessBackfill&&window.persistentAccessBackfill.bpidPersisted(function(t){t&&(window.ga&&window.ga("send","event",{eventCategory:"bpid backfill",eventAction:"fill",nonInteraction:!0}),window.location.reload()),function(){try{window.localStorage.setItem(P,"1")}catch(t){}}()})},!1),document.head.appendChild(e)}var R=t(function(t){function e(){this.listeners={}}e.prototype={on:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({fn:e,scope:n||null})},off:function(t,e){if(!this.listeners[t])return!1;e||(this.listeners[t]=[]);for(var n=this.listeners[t].length;n--;)this.listeners[t][n].fn===e&&this.listeners[t].splice(n,1);return this.listeners[t].length||(this.listeners[t]=null),!0},emit:function(t){for(var e=this.listeners[t]||[],n=[].slice.call(arguments,1),i=0;e[i];++i)e[i].fn.apply(e[i].scope,n)}},t.exports=e});function W(t){try{return t()}catch(t){console.log(t)}}function V(t,e,n){return W(n?function(){return t.call(n,e)}:function(){return t(e)})}window.initEs6=function(){var t;t=new R,V(M),V(e),V(o,t),V(s,t),V(l),V(u),V(h),V(v),V(S),V(E),V(D),V(g,{popupGroup:V(L)})}}();